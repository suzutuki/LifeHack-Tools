<!--ボタンが押されたら更新・作成日時を非表示にする。h3がターゲット-->
<script>
    $("c").click(function () {
        $("h3").toggle("slow");
    });
</script>

<!--ボタンが押されたら優先順位,1位以外を非表示にする。not-priority-1がターゲット-->
<script>
    $("b").click(function () {
        $(".not-priority-1").toggle("slow");
    });
</script>

<!--Ajaxでチェックボタンを動的にする-->
<script>
    $(function () {
        $("input[type=checkbox]").click(function () {
            $.post('/tasks/' + $(this).data('id') + '/toggle');
        });
    });
</script>
<script>
    $(function () {
        $("input[type=checkbox]").click(function () {
            $.post('/steps/' + $(this).data('id') + '/toggle');
        });
    });
</script>
<script>
    // 本来 Javascript をここに書くべきではありませんが，プログラムの移動方法は講義内で解説します

    const today = new Date(new Date().setHours(0, 0, 0, 0))
    const a_month_ago = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate())

    // ● カレンダー

    // 選択できない日付データ（自由に変更できます。）
    const disable_dates = ['']

    // カレンダーの日本語化
    flatpickr.localize(flatpickr.l10ns.ja);

    // カレンダーの表示
    flatpickr('#date-form', {
        // スマートフォンでもカレンダーに「flatpickr」を使用
        disableMobile: true,
        // 1ヶ月前から本日まで選択可
        minDate: a_month_ago,
        maxDate: today,
        // 選択できない日付
        disable: disable_dates
    });
</script>

