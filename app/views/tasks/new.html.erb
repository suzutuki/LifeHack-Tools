<% provide(:title, "new") %>
<% provide(:button_text, "一括登録") %>
<%= render 'form' %>
        <div class="form-title tween-animate-title center-position">ToDoリストを作成します</div>
        <%= form_with model: @tasks, url: tasks_path, local: true do |form| %>
          <% @tasks.collection.each do |task| %>
            <%= fields_for 'tasks[]', task, local: true do |field| %>
      <h3>
        <%= field.label :"タイトル : あなたが1日で達成したいことを書いてください", class: 'btn slide-red mb-sm' %><br>
        <%= field.text_field :title, class: 'tasks-form-field', placeholder: '筋トレ 学習 仕事の内容など自由に' %><br>
        <% if @tasks.errors.include?(:title) %>
          <div class="alert alert-danger">
            <%= @tasks.errors.messages[:title][0] %>
          </div>
        <% end %>
        <p><%= field.label :"優先順位 :  優先順位の高い順に自動で並び替わります。", class: 'btn slide-yellow' %></p><br>
        <p><%= field.select :priority, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],
                            { include_blank: '選択してください' }, { class: 'tasks-form-box', required: true } %></p>
        <br>
        <p><%= field.label :"メモ (50文字まで登録できます)", class: 'btn slide-blue' %></p><br>
        <p><%= field.text_area :content, class: 'tasks-form-area', placeholder: 'ご自由にどうぞ' %></p><br>
        <% if @tasks.errors.include?(:content) %>
          <div class="alert alert-danger">
            <%= @tasks.errors.messages[:content][0] %>
          </div>
        <% end %>
    <% end %>
  <% end %>
  <div class="center-position">
    <div class="world__btn item">
      <%= link_to '戻る', task_path(current_user), class: "btn float" %>
      <%= form.submit yield(:button_text), class: "btn float" %>
    </div>
  </div>
  </h3>
  </div>
<% end %>
<%= render 'form-field' %>
